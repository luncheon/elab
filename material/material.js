(()=>{var g="M22.11 21.46L2.39 1.73L1.11 3L3 4.9V19C3 20.11 3.9 21 5 21H19.1L20.84 22.73L22.11 21.46M5 19V6.89L17.11 19H5M8.2 5L6.2 3H19C20.1 3 21 3.89 21 5V17.8L19 15.8V5H8.2Z",f="M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z";var k="M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z";var B="M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z";var P=(i,V)=>{let d=document.createElement("template");d.innerHTML=i;let p=d.content.firstElementChild;return p.classList.add(V),()=>p.cloneNode(!0)},b=i=>i.map(V=>V.checkbox.checked&&V.barItem.getAttribute("data-value")).filter(Boolean),T=i=>{let V,d="elab-open",p="elab-popup-dropup",F="elab-popup-dropdown",n="data-selected",w="data-disabled",y="data-selected-all",R="data-placeholder",u=".elab",m="input[type=checkbox]",c=".elab-popup-item",D=P(i.popupTemplate,"elab-popup"),E=P(i.popupItemTemplate,"elab-popup-item"),s=(C,L)=>{C.checkbox.disabled||(C.checkbox.checked=L,C.barItem.toggleAttribute(n,L),C.popupItem.toggleAttribute(n,L))},O=(C,L)=>{if(C){let H=L.every(({checkbox:r})=>r.disabled||!r.checked);C.checkbox.checked=!H,C.checkbox.indeterminate=!H&&!L.every(({checkbox:r})=>r.disabled||r.checked)}},v=(C,L)=>{let H=L.getBoundingClientRect();C.style.left=H.left+"px",C.style.width=H.width+"px",C.classList.contains(p)?(C.style.maxHeight=H.top-8+"px",C.style.top=H.top-C.offsetHeight+"px"):(C.style.maxHeight=window.innerHeight-H.bottom-20+"px",C.style.top=H.top+L.offsetHeight+"px")},x=()=>{V?.bar.dispatchEvent(new CustomEvent("close",{bubbles:!0,cancelable:!0,detail:{values:b(V.items)}}))&&(V.bar.classList.remove(d),V.bar.focus(),V.popup.remove(),V=void 0)},N=(C,L)=>{let H=[],r;for(let M of C.firstElementChild.children){if(M.hasAttribute(R))continue;let t=L.appendChild(E());for(let A of M.getAttributeNames())t.setAttribute(A,M.getAttribute(A));t.querySelector("slot").replaceWith(...M.cloneNode(!0).childNodes);let a=t.querySelector(m);a&&(M.hasAttribute(y)?r={barItem:M,popupItem:t,checkbox:a}:(a.checked=M.hasAttribute(n),a.disabled=M.hasAttribute(w),H.push({barItem:M,popupItem:t,checkbox:a})))}return O(r,H),[H,r]},S=C=>{if(V?.bar===C)return;V&&x();let L=C.getBoundingClientRect(),H=D(),r=H.querySelector("slot"),[M,t]=N(C,r.parentElement);r.remove(),V={bar:C,popup:H,items:M,itemSelectedAll:t},C.classList.add(d),H.className=(H.className+" "+(C.getAttribute("data-popup-class")||"")).trim(),H.style.cssText=C.getAttribute("data-popup-style")||"",C.parentElement.insertBefore(H,C),H.classList.add(L.top*1.75>window.innerHeight&&L.bottom+H.offsetHeight>window.innerHeight?p:F),v(H,C);let a=(A,e)=>{if(A===t?.checkbox){for(let o of M)s(o,e);t.checkbox.checked=e,t.checkbox.indeterminate=!1}else{let o=M.find(Z=>Z.checkbox===A);if(!o)return;s(o,e),O(t,M)}v(H,C),C.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{values:b(M)}}))};H.addEventListener("pointerover",A=>A.target.closest(c)?.querySelector(m)?.focus()),H.addEventListener("change",A=>{let e=A.target;e.matches(m)&&(a(e,e.checked),A.stopPropagation())}),H.addEventListener("keydown",A=>{let e=A.target;if(!e.matches(m))return;let o=A.keyCode;if(o===38||o===40){A.preventDefault();let Z=o===38?"previousElementSibling":"nextElementSibling";for(let l=e.closest(c)?.[Z];l;l=l[Z]){let h=l.querySelector(m);if(!h?.disabled){h?.focus();break}}}else o===13&&(A.preventDefault(),a(e,!e.checked))}),setTimeout(()=>H.getElementsByTagName("input")[0]?.focus()),i.onOpen?.(V)};addEventListener("resize",()=>V&&v(V.popup,V.bar)),addEventListener("scroll",()=>V&&v(V.popup,V.bar)),addEventListener("pointerdown",C=>{let L=C.target,H=L.closest(u);H?H===V?.bar?x():S(H):V&&(V.popup.contains(L)?C.preventDefault():x())}),addEventListener("keydown",C=>{let L=C.target,H=C.keyCode;H===27&&V?(C.preventDefault(),x()):H===32&&L.matches(u)?(C.preventDefault(),L===V?.popup?x():S(L)):(H===38||H===40)&&L.matches(u)&&(C.preventDefault(),S(L))})};T({popupTemplate:"<ul><slot></slot></ul>",popupItemTemplate:`<li><label class=elab-label data-ripplet="append-to:parent;color:var(--elab-color);">
<div class=elab-label-background></div>
<input class=elab-checkbox type=checkbox>
<svg class=elab-checkbox-icon viewBox="0 0 24 24" data-ripplet="append-to:parent;opacity:.2;centered:true;">
  <path class=elab-checkbox-icon-unchecked d="${f}" />
  <path class=elab-checkbox-icon-disabled d="${g}" />
  <path class=elab-checkbox-icon-checked d="${k}" />
  <path class=elab-checkbox-icon-indeterminate d="${B}" />
</svg>
<div class=elab-content><slot></slot></div>
</label></li>`,onOpen:({bar:i,popup:V})=>V.style.setProperty("--elab-color",getComputedStyle(i).getPropertyValue("--elab-color"))});})();
